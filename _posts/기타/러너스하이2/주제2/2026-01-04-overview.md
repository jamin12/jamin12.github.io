---
layout: post
title: "Overview"
date: 2026-01-04
categories: [기타, 러너스하이2, 주제2]
tags: [러너스하이2_주제2]
---

애플리케이션 대시보드의 Overview 패널에 포함된 주요 지표들의 해석 기준과 의미를 정리했다.

## URI별 P95 Latency Top 10

값의 단위는 초(second)다. `0.3`은 300ms, `1.2`는 1.2초, `2.5`는 2.5초를 의미한다.

이 지표는 엔드포인트(URI)별로 가장 느린 API를 P95 기준으로 정렬하여 보여준다. 이를 통해 전체 서비스가 느린 것인지, 특정 API만 느린 것인지 즉시 구분할 수 있다. 장애 상황에서 분석 대상을 좁혀주는 우선순위 지표로 활용된다.

지표가 높다는 것은 해당 URI 요청의 95%가 표시된 시간보다 빠르게 처리되지 못했음을 뜻한다. 이는 일시적인 지연이 아니라 느린 요청이 지속적으로 발생하고 있다는 의미이며, 해당 API 내부에 병목이 존재할 가능성이 높다.

주요 원인으로는 다음과 같은 항목들이 있다.

* **DB 쿼리 지연**: 인덱스 누락, 커넥션 풀 고갈, N+1 문제, 대용량 스캔 등
* **외부 API 호출 지연**: 타임아웃 증가, 재시도 누적
* **락/동기화 문제**: 단일 리소스에 대한 경쟁 발생
* **최근 배포된 API**: 로직 변경, 캐시 미적용, 쿼리 증가 등

해석 시 특정 URI만 Top에 등장한다면 그 API가 전체 성능 저하를 유발하는 핫스팟이다. 같은 URI가 지속적으로 1위를 차지한다면 구조적으로 느린 병목 지점이라 볼 수 있다. 만약 Top URI의 RPS는 낮은데 P95만 높다면 트래픽 문제보다는 내부 처리 지연일 가능성이 높고, RPS와 P95가 동시에 높다면 과부하와 병목이 겹친 상태다.

![alt text](/assets/imgs/posts/기타/러너스하이/주제2/overview/image1.png)

## P95 / P99

값 `0.08`은 80ms, `0.1`은 100ms를 의미한다.

**P95**는 사용자 대다수(95%)가 체감하는 응답 시간 수준을 나타낸다. 일반적인 사용자 경험의 품질을 대표하며, 평균값보다 실제 체감 성능에 훨씬 가깝다. P95가 높아진다면 느린 요청이 소수가 아니라 일정 비율 이상 지속적으로 발생하고 있다는 신호로, 시스템 전반의 성능 저하가 시작되었음을 의미한다. 캐시 미스 증가나 DB 응답 지연 등이 원인일 수 있다.

**P99**는 가장 나쁜 사용자 경험에 가까운 응답 시간을 보여준다. 시스템의 불안정성, 병목, 포화 상태를 가장 먼저 드러내므로 장애 전조를 감지하는 데 유용하다. P99가 높아진다는 것은 일부 요청이 큐 대기, 락, 커넥션 풀 대기 등에 걸리고 있음을 의미한다. 평균이나 P95가 정상범위여도 P99가 튀고 있다면 시스템 내부에서는 이미 문제가 시작된 상태다.

![alt text](/assets/imgs/posts/기타/러너스하이/주제2/overview/image2.png)

## URI별 RPS Top 5

값 `0.4`는 초당 0.4건(약 2.5초에 1건), `5.1`은 초당 5.1건(1초에 약 5건)을 의미한다.

요청이 어떤 URI로 몰리는지 파악할 수 있다. 전체 RPS 증가가 특정 기능의 폭주 때문인지, 전반적인 트래픽 증가인지 구분하는 기준이 된다. 트래픽 핫스팟을 찾는 데 사용한다.

수치가 높아지는 경우는 다음과 같이 해석한다.

* **특정 URI만 급증**: 해당 기능에 이벤트, 배치, 무한 재시도, 봇 등으로 인한 호출 폭주가 발생한 상태다. 이 URI가 DB나 외부 호출을 동반한다면 P95/P99 및 에러율을 함께 끌어올리는 핫스팟이 된다.
* **상위 URI들이 같이 증가**: 전체 트래픽이 정상적으로 증가했음을 의미한다.
* **특정 URI가 지속적으로 1위**: 구조적으로 가장 많이 쓰이는 핵심 경로이므로 캐싱, 쿼리 최적화, 비동기화의 최우선 대상이 된다.

해석 시 Top URI의 RPS가 오르면서 P95/P99가 같이 오르면 내부 병목을, 4xx가 같이 오르면 클라이언트 오류나 봇을, 5xx가 같이 오르면 서버 과부하를 의심해야 한다.

![alt text](/assets/imgs/posts/기타/러너스하이/주제2/overview/image3.png)

## URI별 에러 상태코드 분포

값은 RPS 기준이다. `0.4`는 초당 0.4건(2.5초에 1건), `5.1`은 초당 5.1건의 에러 발생을 의미한다.

어떤 URI에서 실패가 발생하는지를 상태코드 단위로 보여준다. 전체 에러 증가가 특정 엔드포인트의 문제인지, 서비스 전반적인 문제인지 빠르게 구분할 수 있다.

![alt text](/assets/imgs/posts/기타/러너스하이/주제2/overview/image4.png)

## 4xx / 5xx 비율 및 RPS

**4xx Ratio (%)**
전체 요청 중 4xx 응답이 차지하는 비율이다. 클라이언트 요청 오류, 인증/권한 문제, API 계약 변경, 잘못된 호출 등을 판단하는 지표다.

**5xx Ratio (%)**
전체 요청 중 5xx 응답이 차지하는 비율이다. 서버 내부 오류 비중을 나타내며 장애 여부를 빠르게 감지하는 핵심 지표다.

**5xx Error RPS**
최근 1분 기준으로 발생한 5xx 서버 오류의 초당 발생 건수다. 비율만으로는 알 수 없는 실제 장애의 규모를 나타내는 절대 지표다.

**RPS**
최근 1분간의 트래픽을 기반으로 계산된 초당 평균 요청 수다. `0.4`는 초당 0.4건, `5.1`은 초당 5.1건을 뜻한다. RPS가 갑자기 오르면 트래픽 급증(이벤트/봇/장애 전조) 가능성이 크고, 갑자기 꺼지면 라우팅이나 인그레스 문제로 유입 자체가 끊겼을 가능성을 시사한다.

![alt text](/assets/imgs/posts/기타/러너스하이/주제2/overview/image5.png)

## 참고

{% include link-preview.html url="https://jamin12.github.io/posts/p95_p99/" title="P95/P99" %}
{% include link-preview.html url="https://jamin12.github.io/posts/4xx,5xx,rsp/" title="4xx/5xx/RPS" %}