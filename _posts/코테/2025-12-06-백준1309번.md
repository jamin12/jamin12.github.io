---
layout: post
title: "백준 1309번 - 동물원"
date: 2025-12-06 14:39:00 +0900
categories: [코테]
tags: [dp]
math: true
---

## 문제
{% include link-preview.html url="https://www.acmicpc.net/problem/1309" title="백준 1309번 문제" %}

## 풀이
이 문제는 **윗줄에 사자가 어디 있었는지**만 알면 다음 줄을 채울 수 있습니다.

$i$번째 줄의 상태는 딱 3가지뿐입니다.
1. **아무것도 안 놓음** ($0$)
2. **왼쪽에 놓음** ($1$)
3. **오른쪽에 놓음** ($2$)

### 점화식 도출
생각보다 간단합니다. "세로로 붙으면 안 된다"만 기억하면 됩니다.

* **이번 줄에 아무것도 안 놓을 경우** (`dp[i][0]`)
  * 윗줄에 사자가 어디 있든 상관없습니다. (안 놓았든, 왼쪽이든, 오른쪽이든 OK)
  * $$DP[i][0] = DP[i-1][0] + DP[i-1][1] + DP[i-1][2]$$

* **이번 줄 왼쪽에 놓을 경우** (`dp[i][1]`)
  * 윗줄 **왼쪽**에 사자가 있으면 세로로 닿아서 안 됩니다.
  * 윗줄이 **비었거나**, **오른쪽**에 있을 때만 가능합니다.
  * $$DP[i][1] = DP[i-1][0] + DP[i-1][2]$$

* **이번 줄 오른쪽에 놓을 경우** (`dp[i][2]`)
  * 윗줄 **오른쪽**에 사자가 있으면 안 됩니다.
  * 윗줄이 **비었거나**, **왼쪽**에 있을 때만 가능합니다.
  * $$DP[i][2] = DP[i-1][0] + DP[i-1][1]$$

## 코드

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.IOException;

public class Main {
    public static void main(String[] args) {
        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {
            int n = Integer.parseInt(br.readLine());
            int MOD = 9901;

            int[][] dp = new int[n + 1][3];
            
            // 초기값 (N=1)
            dp[1][0] = 1;
            dp[1][1] = 1;
            dp[1][2] = 1;

            for (int i = 2; i <= n; i++) {
                dp[i][0] = (dp[i - 1][0] + dp[i - 1][1] + dp[i - 1][2]) % MOD;
                dp[i][1] = (dp[i - 1][0] + dp[i - 1][2]) % MOD;
                dp[i][2] = (dp[i - 1][0] + dp[i - 1][1]) % MOD;
            }

            int answer = (dp[n][0] + dp[n][1] + dp[n][2]) % MOD;
            System.out.println(answer);

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

## 메모
* 결과값만 9901로 나누는게 아니라, **매 덧셈마다 모듈러 연산** 필수.
* 초기값($N=1$) 세팅 실수하지 말기.
